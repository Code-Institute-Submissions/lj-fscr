{% extends "base.html" %} 
{% load static %}

{% block page_header %}
<div class="container header-container">
  <div class="row">
    <div class="col"></div>
  </div>
</div>
{% endblock %} {% block content %}

<!--Page title-->
<div class="container-fluid">
  <div class="row">
    <div class="col text-center title-container">
      <h2 class="title-font pt-4 pb-2">Message Board</h2>
    </div>
  </div>

  <!--Add Thread-->
    <div class="row">
        <div class="col-12 mb-2">
            <a class="add-btn btn rounded-0 mt-3 mr-1 font-12 py-1 px-3" href="{% url 'add_post' %}">Add Thread</a>
        </div>
    </div>

    <div class="row">
        <div class="col-12 p-0">
            <div class="grey-banner mx-3">
                <div class="rounded-0">
                    <table class="table table-sm table-borderless">
                        <thead class="table-header font-14">
                            <tr class="d-flex p-1 pl-2">
                                <th class="col-8 col-md-6">Topic<p class="p-0 text-muted font-12">({{ count }} active posts)</p></th>
                                <th class="col-md-2 d-none d-md-block text-center">Replies</th>
                                <th class="col-4 text-center">Posted</th>
                            </tr>
                        </thead>

                        {% for post in posts %}
                            <tr class="d-flex p-1 pl-2">
                                <td class="col-8 col-md-6">
                                    <a href= 
                                        "{% url 'post_detail' post.slug %}">
                                        <p class="post-link mb-1">
                                            {{ post.title }}
                                        </p>
                                    </a>
                                    <p class="my-0 d-block d-md-none text-muted font-12"><i class="fas fa-comment-dots"></i>{{ count }} replies</p>
                                </td>
                                <td class="col-md-2 d-none d-md-block text-center">
                                    <p class="my-0">replies</p>
                                </td>
                                <td class="col-4 text-center">
                                    <p class="my-0 font-14">{{ post.author }}</p>
                                    <p class="my-0 text-muted font-12">{{ post.created_on }}</p>
                                </td>
                            </tr>
                            {%endfor%}
                    </table>
                </div>
             </div>
        </div>
    </div>

</div>

{% endblock %}